<!DOCTYPE html>
<html>
<head>
<style>
#myCanvas1 {
	position: absolute;
	left: 144px;
}
#myCanvas2 {
	position: absolute;
	left: 453px;
}
#myCanvas3 {
	position: absolute;
	right: 113px;
}
#myCanvas1, #myCanvas2, #myCanvas3 {
	margin: 181px;
	padding: 0;
}
body {
	margin: 0;
	padding: 0;
	background:url(hero.jpg) no-repeat fixed center center;
	-webkit-background-size: cover;
	-moz-background-size: cover;
	-o-background-size: cover;
	background-size: cover;
	height: 100%;
}

/*media queries
@media */

/*media queries*/
@media screen and (max-device-height: 5px) {
	#myCanvas1, #myCanvas2, #myCanvas3 {
		position: absolute;
	}
	#myCanvas1 {
		left: 120px;
	}
	#myCanvas2 {
		left: 429px;
	}
	#myCanvas3 {
		left: 79px;
	}
}

@media only screen and (min-device-width: 280px) and (max-device-width: 1200px) {
	div {
		position: relative;
		text-align: center;
	}
	#img1 {
		left: 123px;
	}
	#img2 {
		left: 421px;
	}
	#img3 {
		right: 102px;
	}
	#img4 {
		left: 12px;
	}
	#img5 {
		left: 168px;
	}
	#img6 {
		right: 12px;
	}
	#img1, #img2, #img3 {
		margin: 38px;
		position: absolute;
	}
	#img4, #img5, #img6 {
		margin: 180px;
		position: absolute;
	}
}

</style>
</head>
<body>
<div><p><center style="color: #fff;">PRESS THE BUTTON AND PUT YOUR THOUGHTS IN RESPECTIVE BOX.</center><p><div>
<image src="past.png" id = "img1" style="position: absolute; left: 238px; margin: 76px;"></image>
<image src="present.png" id = "img2" style="margin: 76px; position: absolute; left: 535px;"></image>
<image src="future.png" id = "img3" style="margin: 76px; position: absolute; right: 205px;"></image>
<image src="box.png" id = "img4" style="margin: 259px; left: 75px; position: absolute;"></image>
<image src="box1.png" id = "img5" style="margin: 258px; position: absolute; left: 377px;"></image>
<image src="box2.png" id = "img6" style="margin: 258px; position: absolute; right: 44px;"></image>
<br style="clear: both" />
<canvas id="myCanvas1" width="134px" height="331px" onclick="newBall(0);"></canvas>
<canvas id="myCanvas2" width="134px" height="331px" onclick="newBall(1);"></canvas>
<canvas id="myCanvas3" width="134px" height="331px" onclick="newBall(2);"></canvas>
<script type="text/javascript">
	var balls = [[], [], []],
    canvases = document.getElementsByTagName('canvas'),
    context = [],
    interval,
    boxWidth = 150,
    ballRadius = 10,
    canvasHeight = 235;
for (var i = 0; i < canvases.length; i++) {
    context.push(canvases[i].getContext('2d'));
}

function draw() {
    var movement = false;
    for (var i = 0; i < 3; i++) {
        context[i].clearRect(0, 0, boxWidth, canvasHeight);
        for (var j = 0; j < balls[i].length; j++) {
            if (balls[i][j].y < balls[i][j].yStop) {
                balls[i][j].y += 4;
                movement = true;
            }
            context[i].beginPath();
            context[i].fillStyle = "red";
            context[i].arc(balls[i][j].x, balls[i][j].y, ballRadius, 0, Math.PI * 2, true);
            context[i].closePath();
            context[i].fill();
        }
    }
    if (!movement) {
        clearInterval(interval);
        interval = null;
    }
}

function newBall(n) {
    console.log('new ball', n);
    var last = balls[n][balls[n].length - 1],
        ball = {x: ballRadius, y: ballRadius, yStop: canvasHeight - ballRadius};
    if (last) {
        if (last.x < boxWidth - ballRadius * 4) {
             ball.x = last.x + ballRadius * 2;
             ball.yStop = last.yStop;
        } else {
             ball.yStop = last.yStop - ballRadius * 2;
        }
    }
    balls[n].push(ball);
    if (!interval) {
        interval = setInterval(draw, 10);
    }
}

</script>
</body>
</html>
